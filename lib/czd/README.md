# CZD – CBOR Schema Definitions

**CZD** is a library for defining and managing CBOR message format
 across the SENSE Core firmwares. It uses [CDDL][2] as the source of truth
 and [zcbor][2] for code generation.

[1]:https://tools.ietf.org/html/rfc8610
[2]:https://github.com/NordicSemiconductor/zcbor

## Purpose
Message definitions are stored in `.cddl` files. These files are passed
through `zcbor` to generate the structures `CBOR` serialisation code. The
autogenerated code is organised by domain and conditionally included using
Kconfig options.

**CZD does not handle transport or messaging logic.**
It exists solely for message structure, serialisation, and validation.

## Source of Truth

Only `.cddl` files in `schemas/` are version-controlled.
Autogenerated `.c`/`.h` files from `zcbor` are **not** committed.
These are treated as build artifacts and are automatically regenerated at
compile-time if schema changes are detected

## Directory Structure

```
lib/czd/
├── schemas/         # Source-of-truth CDDL schema files
│   ├── datapoint.cddl
├── datapoint/       # Autogenerated encode/decode code (ignored in VCS)
├── CMakeLists.txt
├── Kconfig
└── README.md
```

